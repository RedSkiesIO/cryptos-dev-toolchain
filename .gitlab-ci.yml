stages:
- pull-submodules
- build-standardx8664
- build-rpiarmhf
- build-rpiaarch64

pull-submodules:
  stage: pull-submodules
  script:
    - git checkout master
    - git pull origin master
    - git pull --recurse-submodules
    - git submodule update --remote --recursive
  only:
    - release/standardx8664  
    - release/armhf
    - release/aarch64
    
build-standardx8664:
  stage: build-standardx8664
  script:
    - make build-standard-x8664-iso
  only:
    - release/standardx8664

build-rpiarmhf:
  stage: build-rpiarmhf
  script:
    - git checkout master
  only:
    - release/rpiarmhf
    
build-rpiaarch64:
  stage: build-rpiaarch64
  script:
    - git checkout master
  only:
    - release/rpiaarch64
